% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Fuel Prices From 2003 to 2023},
  pdfauthor={Anonymous},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Fuel Prices From 2003 to 2023}
\author{Anonymous}
\date{2023-05-09}

\begin{document}
\maketitle

\hypertarget{research-question}{%
\subsection{Research Question}\label{research-question}}

With recent unprecedented increases in the price of fuel worldwide it
prompted the question of how have fuel prices for petrol and diesel
changed in the last 20 years?

\hypertarget{data-origins}{%
\subsection{Data Origins}\label{data-origins}}

Data was obtained from Government National Statistics, specifically
reported by the Department for Energy Security and Net Zero. Data was
the weekly road fuel prices table which reports the cost of unleaded
petrol (ULSP) and unleaded diesel from 9/06/2013 until present day.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{raw\_data }\OtherTok{\textless{}{-}} \FunctionTok{read\_excel}\NormalTok{(}\FunctionTok{here}\NormalTok{(}\StringTok{\textquotesingle{}Data\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}Weekly\_Fuel\_Prices.xlsx\textquotesingle{}}\NormalTok{), }\CommentTok{\#loading data}
                       \AttributeTok{skip=}\DecValTok{7}\NormalTok{, }\CommentTok{\#skipping first 7 lines}
                       \AttributeTok{sheet=}\StringTok{\textquotesingle{}All years\textquotesingle{}}\NormalTok{) }\CommentTok{\#selecting sheet titled "All Years"}
\end{Highlighting}
\end{Shaded}

Due to formatting of the Excel workbook I skipped the first 7 lines of
the sheet in order for the data to load correctly and specify the page
of the workbook I wanted data to be loaded from.

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0358}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0912}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1270}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1270}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0814}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0586}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0879}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1238}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.1270}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0814}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 20\tabcolsep) * \real{0.0586}}@{}}
\caption{Raw Data}\tabularnewline
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Date
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSP: Pump price (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSP: Diff on previous WEEK (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSP: Diff on previous YEAR (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
Duty rate ULSP (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
VAT (\% rate) ULSP
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSD: Pump price (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSD: Diff on previous WEEK (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSD: Diff on previous YEAR (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
Duty rate ULSD (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
VAT (\% rate) ULSD
\end{minipage} \\
\midrule()
\endfirsthead
\toprule()
\begin{minipage}[b]{\linewidth}\raggedright
Date
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSP: Pump price (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSP: Diff on previous WEEK (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSP: Diff on previous YEAR (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
Duty rate ULSP (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
VAT (\% rate) ULSP
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSD: Pump price (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSD: Diff on previous WEEK (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
ULSD: Diff on previous YEAR (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
Duty rate ULSD (p/litre)
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedleft
VAT (\% rate) ULSD
\end{minipage} \\
\midrule()
\endhead
2003-06-09 & 74.59028 & NA & NA & 45.82 & 17.5 & 76.77339 & NA & NA &
45.82 & 17.5 \\
2003-06-16 & 74.46914 & -0.121141 & NA & 45.82 & 17.5 & 76.68905 &
-0.084340 & NA & 45.82 & 17.5 \\
2003-06-23 & 74.42357 & 0.000000 & NA & 45.82 & 17.5 & 76.62055 &
-0.068508 & NA & 45.82 & 17.5 \\
2003-06-30 & 74.35242 & -0.071145 & NA & 45.82 & 17.5 & 76.50526 &
-0.115286 & NA & 45.82 & 17.5 \\
\bottomrule()
\end{longtable}

Link to
\href{https://www.gov.uk/government/statistics/weekly-road-fuel-prices}{National
Statistics Weekly Road Fuel Prices}

\hypertarget{data-preparation}{%
\subsection{Data Preparation}\label{data-preparation}}

Steps I took to prepare the data were:\\
1. remove useless columns keeping just price per litre for diesel and
petrol respectively\\
2. simplified variable names ULSP = petrol, ULSD = diesel

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{clean\_data }\OtherTok{\textless{}{-}}\NormalTok{ raw\_data }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{rename}\NormalTok{(}\StringTok{"Petrol"}\OtherTok{=}\StringTok{"ULSP:  Pump price (p/litre)"}\NormalTok{,}
         \StringTok{"Diesel"}\OtherTok{=}\StringTok{"ULSD: Pump price (p/litre)"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{select}\NormalTok{(Date,Petrol,Diesel)}
\end{Highlighting}
\end{Shaded}

Then I converted the data frame to long format in order to produce a
graph

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OtherTok{\textless{}{-}} \FunctionTok{pivot\_longer}\NormalTok{(clean\_data, }
             \SpecialCharTok{{-}}\NormalTok{Date,}
             \AttributeTok{names\_to=}\StringTok{"Cat"}\NormalTok{,}
             \AttributeTok{values\_to=}\StringTok{"Value"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llr@{}}
\caption{Processed Data}\tabularnewline
\toprule()
Date & Cat & Value \\
\midrule()
\endfirsthead
\toprule()
Date & Cat & Value \\
\midrule()
\endhead
2003-06-09 & Petrol & 74.59028 \\
2003-06-09 & Diesel & 76.77339 \\
2003-06-16 & Petrol & 74.46914 \\
2003-06-16 & Diesel & 76.68905 \\
2003-06-23 & Petrol & 74.42357 \\
2003-06-23 & Diesel & 76.62055 \\
\bottomrule()
\end{longtable}

\hypertarget{visualisation}{%
\subsection{Visualisation}\label{visualisation}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plot1 }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(df, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{Date,}\AttributeTok{y=}\NormalTok{Value,}\AttributeTok{colour=}\NormalTok{Cat))}\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{linewidth=}\FloatTok{0.75}\NormalTok{)}\SpecialCharTok{+} 
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{title=}\StringTok{"Fuel Prices Over the Past 20 Years"}\NormalTok{,}\AttributeTok{x=}\StringTok{"Date"}\NormalTok{,}\AttributeTok{y=}\StringTok{"Pence Per Litre"}\NormalTok{,}\AttributeTok{color=}\ConstantTok{NULL}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}\AttributeTok{limits=}\FunctionTok{c}\NormalTok{(}\StringTok{"Petrol"}\NormalTok{,}\StringTok{"Diesel"}\NormalTok{),}\AttributeTok{values=}\FunctionTok{wes\_palette}\NormalTok{(}\StringTok{"Royal1"}\NormalTok{,}\AttributeTok{n=}\DecValTok{2}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{scale\_x\_datetime}\NormalTok{(}\AttributeTok{date\_breaks=}\StringTok{"1 year"}\NormalTok{,}\AttributeTok{date\_labels=}\StringTok{"\%Y"}\NormalTok{)}\SpecialCharTok{+}
  \FunctionTok{scale\_y\_continuous}\NormalTok{(}\AttributeTok{breaks=}\FunctionTok{c}\NormalTok{(}\DecValTok{80}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{120}\NormalTok{,}\DecValTok{140}\NormalTok{,}\DecValTok{160}\NormalTok{,}\DecValTok{180}\NormalTok{,}\DecValTok{200}\NormalTok{))}\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x=}\FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle=}\DecValTok{50}\NormalTok{,}\AttributeTok{hjust=}\DecValTok{1}\NormalTok{),}\AttributeTok{legend.position =} \StringTok{"bottom"}\NormalTok{, }\AttributeTok{plot.title=}\FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size=}\DecValTok{20}\NormalTok{,}\AttributeTok{hjust=}\FloatTok{0.5}\NormalTok{),}\AttributeTok{legend.text=}\FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size=}\DecValTok{10}\NormalTok{),}\AttributeTok{legend.key.size=}\FunctionTok{unit}\NormalTok{(}\DecValTok{1}\NormalTok{,}\StringTok{"cm"}\NormalTok{))}


\CommentTok{\#save output}
\FunctionTok{ggsave}\NormalTok{(}\StringTok{"Fuel Prices 2003{-}2023.pdf"}\NormalTok{, plot1, }\AttributeTok{path=}\FunctionTok{here}\NormalTok{(}\StringTok{"Plots"}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Saving 6.5 x 4.5 in image
\end{verbatim}

\includegraphics{RMarkdown-Project_files/figure-latex/unnamed-chunk-8-1.pdf}

\hypertarget{discussion}{%
\subsection{Discussion}\label{discussion}}

\end{document}
